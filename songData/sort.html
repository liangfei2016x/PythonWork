<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	</style>
	<script src="https://cdn.bootcss.com/jquery/2.2.4/jquery.js"></script>
	<script src="https://cdn.bootcss.com/echarts/3.6.2/echarts.min.js"></script>
	<script type="text/javascript" src="js/songSort.js"></script>
	<script type="text/javascript" src="js/singerSort.js"></script>
</head>
<body>
	<body>
    <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
    <h3>
    	<ul>
			<li value="songSort">按歌名排序</li>
			<li value="singerSort">按歌手排序</li>
		</ul>
    <h3>
    <div id="main" style="width: 1000px;height:1000px;text-align:center"></div>
	<script type="text/javascript">
	$("li").each(function(){
		$(this).click(function(){
			value=$(this).attr("value")
			console.log(value)
			if(value=="songSort"){
				var data1=[],data2=[]
				for (var i = 0; i < songSort.length; i++) {
					data1.push(songSort[i]["songerName"])
					data2.push(songSort[i]["count"])
				}
				showCharts(data1.reverse(),data2.reverse())
			}else{
				var data1=[],data2=[]
				for (var i = 0; i < singerSort.length; i++) {
					data1.push(singerSort[i]["singer"])
					data2.push(singerSort[i]["count"])
				}
				showCharts(data1.reverse(),data2.reverse())
			}
		})
	})
	function showCharts(data1,data2){
		var myChart = echarts.init(document.getElementById('main'));
		option = {
		    color: ['#3398DB'],
		    tooltip : {
		        trigger: 'axis',
		        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
		            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
		        }
		    },
		    grid: {
		        left: '3%',
		        right: '4%',
		        bottom: '3%',
		        containLabel: true
		    },
		    xAxis : [
		        {
		            type : 'value',

		        }
		    ],
		    yAxis : [
		        {
		            type : 'category',
		            data : data1,
		            axisTick: {
		                alignWithLabel: true
		            }
		        }
		    ],
		    series : [
		        {
		            name:'收藏次数',
		            type:'bar',
		            barWidth: '60%',
		            data:data2
		        }
		    ]
		};
		myChart.setOption(option);
	}
	</script>

</body>
</body>
</html>